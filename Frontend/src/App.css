@import "tailwindcss";

/* Theme tokens and utilities (Twitch-like black + blue) */
@layer base {
  :root {
    /* Light (Day) */
    --bg: #f8fafc;              /* slate-50 */
    --surface: #ffffff;         /* panel base */
    --surface-elev: #f1f5f9;    /* slate-100 */
    --text: #0f172a;            /* slate-900 */
    --muted: #64748b;           /* slate-500 */
    --border: #e2e8f0;          /* slate-200 */

    --primary: #3b82f6;         /* blue-500 */
    --primary-700: #1d4ed8;     /* blue-700 */
    --accent: #3b82f6;          /* unify accent to blue per request */
    --success: #10b981;         /* emerald-500 */

    --ring: rgba(59,130,246,0.45);
  }

  .theme-dark {
    /* Dark (Night) */
    --bg: #0b0e14;              /* near-black */
    --surface: #0f1117;         /* dark panel */
    --surface-elev: #131722;    /* elevated panel */
    --text: #e5e7eb;            /* gray-200 */
    --muted: #9ca3af;           /* gray-400 */
    --border: #1f2937;          /* gray-800 */

    --primary: #3b82f6;         /* blue-500 */
    --primary-700: #2563eb;     /* blue-600 */
    --accent: #60a5fa;          /* blue-400 */
    --success: #10b981;

    --ring: rgba(59,130,246,0.55);
  }

  .theme-light {
    /* alias to :root for explicit toggling */
  }

  html, body {
    background-color: var(--bg);
    color: var(--text);
  }

  body {
    font-family: Inter, ui-sans-serif, system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
  }
}

/* Reusable UI primitives */
@layer components {
  .ui-surface {
    @apply rounded-lg border shadow-sm;
    background-color: var(--surface);
    border-color: var(--border);
    color: var(--text);
  }

  .ui-card {
    @apply rounded-lg border;
    background-color: var(--surface);
    border-color: var(--border);
    transition: box-shadow 150ms ease, border-color 150ms ease, transform 150ms ease;
  }
  .ui-card:hover {
    border-color: color-mix(in oklab, var(--primary) 60%, var(--border));
    box-shadow: 0 0 0 2px color-mix(in oklab, var(--primary) 20%, transparent);
    transform: translateY(-1px);
  }

  .ui-input {
    @apply rounded-md border px-3 py-2 outline-none w-full;
    background-color: var(--surface);
    color: var(--text);
    border-color: var(--border);
  }
  .ui-input::placeholder {
    color: var(--muted);
    opacity: 0.8;
  }
  .ui-input:focus {
    border-color: var(--primary);
    box-shadow: 0 0 0 2px var(--ring);
  }

  .ui-checkbox {
    accent-color: var(--primary);
  }

  .ui-btn {
    @apply inline-flex items-center justify-center rounded-md px-3.5 py-2 text-sm font-medium border;
    transition: background-color 150ms ease, color 150ms ease, border-color 150ms ease, transform 100ms ease;
    border-color: var(--border);
    background-color: var(--surface);
    color: var(--text);
  }
  .ui-btn:hover {
    border-color: color-mix(in oklab, var(--primary) 60%, var(--border));
    box-shadow: 0 0 0 2px color-mix(in oklab, var(--primary) 20%, transparent);
  }
  .ui-btn:active {
    transform: translateY(1px);
  }

  .ui-btn-primary {
    border-color: transparent;
    background: linear-gradient(180deg, color-mix(in oklab, var(--primary) 90%, white), var(--primary-700));
    color: white;
  }
  .ui-btn-primary:hover {
    filter: brightness(1.05);
  }

  .ui-btn-ghost {
    background-color: transparent;
    border-color: var(--border);
    color: var(--text);
  }

  .ui-badge {
    @apply text-xs px-2 py-0.5 rounded;
    color: white;
    background-color: color-mix(in oklab, var(--primary) 75%, black);
  }
  .ui-badge-muted {
    @apply text-xs px-2 py-0.5 rounded;
    color: var(--muted);
    background-color: color-mix(in oklab, var(--border) 85%, transparent);
  }

  .ui-pill {
    @apply rounded-full px-4 py-1.5 text-sm border;
    background-color: var(--surface);
    border-color: var(--border);
    color: var(--text);
  }
  .ui-pill.active {
    background-color: color-mix(in oklab, var(--primary) 12%, var(--surface));
    border-color: var(--primary);
    box-shadow: 0 0 0 2px var(--ring);
  }

  .video-black-border {
    border: 2px solid #000;
    border-radius: 0.5rem;
  }
}

/* Loading skeleton shimmer */
@layer utilities {
  @keyframes shimmer {
    100% { transform: translateX(100%); }
  }
  .skeleton {
    position: relative;
    overflow: hidden;
    background: color-mix(in oklab, var(--surface) 85%, #000);
  }
  .skeleton::after {
    content: "";
    position: absolute;
    inset: 0;
    transform: translateX(-100%);
    background: linear-gradient(90deg, transparent, rgba(255,255,255,0.08), transparent);
    animation: shimmer 1.4s infinite;
  }
}
